{
  "doc-8a5d994951af68507a3d3ccc057a0f38": {
    "content": "OSON Document Intelligence\n–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏\nMVP + Roadmap + –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π\nOSON SOFT\n–î–µ–∫–∞–±—Ä—å 2025\n–°–û–î–ï–†–ñ–ê–ù–ò–ï\n–ß–ê–°–¢–¨ 1: MVP v1.0\n1. –í–≤–µ–¥–µ–Ω–∏–µ\n2. –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (CORE + PLUGINS)\n3. –î–æ–ø–æ–ª–Ω–µ–Ω–∏—è –≤ –∞–¥–º–∏–Ω–∫—É\n4. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã (A, B, C, D, E, F)\n5. –¢–∞–±–ª–∏—Ü—ã PostgreSQL (G2.1-G2.8)\n6. –ì—Ä—É–ø–ø–∞ I ‚Äî –§—É–Ω–∫—Ü–∏–∏\n7. –ì—Ä—É–ø–ø–∞ J ‚Äî Intents (MVP)\n8. –ì–ª–∞–≤–Ω—ã–π flow –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–∞\n9. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞\n–ß–ê–°–¢–¨ 2: Roadmap v1.5 / v2.0 / v2.5\n11. –í–µ—Ä—Å–∏—è 1.5 ‚Äî –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (J14, J17, J18)\n12. –í–µ—Ä—Å–∏—è 2.0 ‚Äî –û—Ç—á—ë—Ç–Ω–æ—Å—Ç—å (J13, J19, J20)\n13. –í–µ—Ä—Å–∏—è 2.5 ‚Äî –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª (J11, J12, J15, J16)\n14. –ò—Ç–æ–≥–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞\n–ß–ê–°–¢–¨ 3: –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π\n15. –ü—Ä–∏–Ω—Ü–∏–ø—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π\n16. H2 Action Buttons ‚Äî UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã\n17. –ü–æ–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π –≤ —Ç–∞–±–ª–∏—Ü–∞—Ö\n18. –ó–∞–∫–ª—é—á–µ–Ω–∏–µ\n–ß–ê–°–¢–¨ 1\nMVP v1.0\nIntents J1-J10 ‚Ä¢ –¢–∞–±–ª–∏—Ü—ã G2.1-G2.8\n1. –í–í–ï–î–ï–ù–ò–ï\n1.1 –¶–µ–ª—å –¥–æ–∫—É–º–µ–Ω—Ç–∞\n–î–∞–Ω–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª–Ω–æ–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ –¥–ª—è –∫–æ–º–∞–Ω–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–∏—Å—Ç–µ–º—ã OSON Document Intelligence. –î–æ–∫—É–º–µ–Ω—Ç –≤–∫–ª—é—á–∞–µ—Ç:\n–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Å–∏—Å—Ç–µ–º—ã –∏ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤\nSQL-—Å—Ö–µ–º—ã —Ç–∞–±–ª–∏—Ü —Å —É—á—ë—Ç–æ–º –≤—Å–µ—Ö –¥–æ—Ä–∞–±–æ—Ç–æ–∫\n–ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–æ–¥—É–ª—è\n–ü–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è (Roadmap) –¥–æ –≤–µ—Ä—Å–∏–∏ 2.5\n–°–∏—Å—Ç–µ–º—É –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\n1.2 –ß—Ç–æ —Ç–∞–∫–æ–µ OSON Document Intelligence\n–≠—Ç–æ AI-–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ —Å –º–æ–¥—É–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π, –∫–æ—Ç–æ—Ä–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ—Ç –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã (–∞—É–¥–∏—Ç, —é—Ä–∏—Å–ø—Ä—É–¥–µ–Ω—Ü–∏—è, —Ä–∏—Ç–µ–π–ª –∏ –¥—Ä—É–≥–∏–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è) —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º LLM, RAG –∏ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π —Ä–∞—Å—á—ë—Ç–∞.\n‚ÑπÔ∏è –°–∏—Å—Ç–µ–º–∞ —Ä–∞–∑–¥–µ–ª–µ–Ω–∞ –Ω–∞ CORE (–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞) –∏ PLUGINS (–æ—Ç—Ä–∞—Å–ª–µ–≤—ã–µ –º–æ–¥—É–ª–∏). –≠—Ç–æ \n\n–ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–Ω—É –ø–ª–∞—Ç—Ñ–æ—Ä–º—É –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –æ—Ç—Ä–∞—Å–ª–µ–π.\n1.3 –ì–ª–∞–≤–Ω–∞—è –∏–¥–µ—è —Å–∏—Å—Ç–µ–º—ã\n–û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç 7 —ç—Ç–∞–ø–æ–≤:\nüî¥ –®–ê–ì 5 ‚Äî –ö–õ–Æ–ß–ï–í–û–ô: LLM –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è!\n1.4 –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã\n–ò–∑ –∞–Ω–∞–ª–∏–∑–∞ —Ä—è–¥–∞ –≤–æ–ø—Ä–æ—Å–æ–≤ –±–∏–∑–Ω–µ—Å-–∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä—ã –≤—ã–≤–µ–¥–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:\n2. –ú–û–î–£–õ–¨–ù–ê–Ø –ê–†–•–ò–¢–ï–ö–¢–£–†–ê\n2.1 –ö–æ–Ω—Ü–µ–ø—Ü–∏—è CORE + PLUGINS\n–°–∏—Å—Ç–µ–º–∞ —Ä–∞–∑–¥–µ–ª–µ–Ω–∞ –Ω–∞ –¥–≤–µ —á–∞—Å—Ç–∏:\nCORE ‚Äî –æ–±—â–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –æ—Ç—Ä–∞—Å–ª–∏\nPLUGIN ‚Äî –æ—Ç—Ä–∞—Å–ª–µ–≤–∞—è –ª–æ–≥–∏–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ\n2.2 –ß—Ç–æ –æ—Å—Ç–∞—ë—Ç—Å—è –≤ CORE\n2.3 –ß—Ç–æ –≤—ã–Ω–æ—Å–∏—Ç—Å—è –≤ PLUGIN\n2.4 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫ –ø–ª–∞–≥–∏–Ω–∞\n/plugins/audit/\n‚îú‚îÄ‚îÄ plugin.yaml           # –ú–∞–Ω–∏—Ñ–µ—Å—Ç –ø–ª–∞–≥–∏–Ω–∞\n‚îú‚îÄ‚îÄ /prompts/             # System Prompts (A)\n‚îÇ   ‚îú‚îÄ‚îÄ system_prompt.txt\n‚îÇ   ‚îú‚îÄ‚îÄ styles.yaml\n‚îÇ   ‚îî‚îÄ‚îÄ disclaimer.txt    # ‚¨Ö –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–π disclaimer\n‚îú‚îÄ‚îÄ /knowledge/           # –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ (B)\n‚îÇ   ‚îú‚îÄ‚îÄ risk_library.json\n‚îÇ   ‚îú‚îÄ‚îÄ pbc_master.json\n‚îÇ   ‚îî‚îÄ‚îÄ glossary.json\n‚îú‚îÄ‚îÄ /functions/           # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (C, I)\n‚îÇ   ‚îú‚îÄ‚îÄ materiality.py\n‚îÇ   ‚îú‚îÄ‚îÄ sampling.py\n‚îÇ   ‚îú‚îÄ‚îÄ legal_matrix.py\n‚îÇ   ‚îî‚îÄ‚îÄ validators.py     # ‚¨Ö –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö\n‚îú‚îÄ‚îÄ /templates/           # –®–∞–±–ª–æ–Ω—ã (D)\n‚îÇ   ‚îú‚îÄ‚îÄ audit_report.docx\n‚îÇ   ‚îî‚îÄ‚îÄ pbc_letter.docx\n‚îú‚îÄ‚îÄ /intents/             # Intents (J)\n‚îÇ   ‚îî‚îÄ‚îÄ intents.yaml\n‚îî‚îÄ‚îÄ /tables/              # –¢–∞–±–ª–∏—Ü—ã –ë–î (G2)\n‚îî‚îÄ‚îÄ migrations.sql\n2.5 –ú–∞–Ω–∏—Ñ–µ—Å—Ç –ø–ª–∞–≥–∏–Ω–∞ (plugin.yaml)\nname: \"Audit\"\nversion: \"1.0.0\"\ndescription: \"–ú–æ–¥—É–ª—å –¥–ª—è –∞—É–¥–∏—Ç–æ—Ä—Å–∫–∏—Ö –∫–æ–º–ø–∞–Ω–∏–π (ISA/IFRS)\"\ncomponents:\nprompts:\n- prompts/system_prompt.txt\n- prompts/disclaimer.txt\nknowledge\n\n:\n- knowledge/risk_library.json\n- knowledge/pbc_master.json\nfunctions:\n- functions/materiality.py\n- functions/sampling.py\n- functions/validators.py\ntemplates:\n- templates/audit_report.docx\nintents:\n- intents/intents.yaml\ntables:\n- tables/migrations.sql\nrequires:\ncore_version: \">=1.0.0\"\n2.6 –ö–∞–∫ —Å–∏—Å—Ç–µ–º–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –ø–ª–∞–≥–∏–Ω\n–ü—Ä–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –ø–ª–∞–≥–∏–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:\n–ß–∏—Ç–∞–µ—Ç plugin.yaml –∏ –ø–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤\n–ó–∞–≥—Ä—É–∂–∞–µ—Ç –ø—Ä–æ–º–ø—Ç—ã –≤ —Ä–∞–∑–¥–µ–ª \"–ü—Ä–æ–º–ø—Ç—ã & –°—Ç–∏–ª–∏\" –∞–¥–º–∏–Ω–∫–∏\n–ò–Ω–¥–µ–∫—Å–∏—Ä—É–µ—Ç knowledge —Ñ–∞–π–ª—ã –≤ Qdrant (chunks ‚Üí embeddings)\n–†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç Python —Ñ—É–Ω–∫—Ü–∏–∏ –≤ Function Executor\n–í—ã–ø–æ–ª–Ω—è–µ—Ç SQL –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è/–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–∞–±–ª–∏—Ü\n–î–æ–±–∞–≤–ª—è–µ—Ç intents –≤ Intent Detector\n3. –î–û–ü–û–õ–ù–ï–ù–ò–Ø –í –ê–î–ú–ò–ù–ö–£\n3.1 –¢–µ–∫—É—â–∏–µ —Ä–∞–∑–¥–µ–ª—ã (—É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã)\n–û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã ‚Äî –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è\n–î–æ–∫—É–º–µ–Ω—Ç—ã & –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏\n–ü—Ä–æ–º–ø—Ç—ã & –°—Ç–∏–ª–∏ ‚Äî —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã, —Å—Ç–∏–ª–∏, —Ä–æ–ª–∏\n–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ & –†–æ–ª–∏ ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º\n–ò—Å—Ç–æ—á–Ω–∏–∫–∏ & –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è ‚Äî SharePoint, Google Drive, S3\n–õ–æ–≥–∏ & –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ ‚Äî –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—à–∏–±–æ–∫\n3.2 –ù–æ–≤—ã–π —Ä–∞–∑–¥–µ–ª: –ú–æ–¥—É–ª–∏ & –ü–ª–∞–≥–∏–Ω—ã\n–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:\n–°–ø–∏—Å–æ–∫ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –ø–ª–∞–≥–∏–Ω–æ–≤ (Audit, Legal, Retail...)\n–°—Ç–∞—Ç—É—Å –∫–∞–∂–¥–æ–≥–æ –ø–ª–∞–≥–∏–Ω–∞ (–ê–∫—Ç–∏–≤–µ–Ω / –ß–µ—Ä–Ω–æ–≤–∏–∫ / –û—Ç–∫–ª—é—á—ë–Ω)\n–ö–Ω–æ–ø–∫–∏: [–ù–∞—Å—Ç—Ä–æ–π–∫–∏] [–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å] [–û—Ç–∫–ª—é—á–∏—Ç—å]\n–ö–Ω–æ–ø–∫–∞ [+ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–ª–∞–≥–∏–Ω] ‚Äî –≤—ã–±–æ—Ä –ø–∞–ø–∫–∏ —Å –ø–ª–∞–≥–∏–Ω–æ–º\n–í–µ—Ä—Å–∏—è –ø–ª–∞–≥–∏–Ω–∞ –∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å CORE\n3.3 –ù–æ–≤—ã–π —Ä–∞–∑–¥–µ–ª: –§—É–Ω–∫—Ü–∏–∏\n–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:\n–°–ø–∏—Å–æ–∫ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π (calculate_materiality, add_risk...)\n–ò–∑ –∫–∞–∫–æ–≥–æ –ø–ª–∞–≥–∏–Ω–∞ –∫–∞–∂–¥–∞—è —Ñ—É–Ω–∫—Ü–∏—è\n–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ—É–Ω–∫—Ü–∏–∏ (–≤—Ö–æ–¥—ã –∏ –≤—ã—Ö–æ–¥—ã)\n–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–∫–ª\n\n—é—á–∏—Ç—å/–æ—Ç–∫–ª—é—á–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é\n–õ–æ–≥–∏ –≤—ã–∑–æ–≤–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π\n3.4 –ù–æ–≤—ã–π —Ä–∞–∑–¥–µ–ª: Intents\n–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:\n–°–ø–∏—Å–æ–∫ intents (MATERIALITY, RISK, SAMPLING...)\n–ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ intent\n–ö–∞–∫–æ–π handler –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è\n–ö–∞–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç intent\nNext steps (—á—Ç–æ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –ø–æ—Å–ª–µ)\n–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞\n4. –ö–û–ú–ü–û–ù–ï–ù–¢–´ –°–ò–°–¢–ï–ú–´\n–î–∞–ª–µ–µ –æ–ø–∏—Å–∞–Ω –∫–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç: —á—Ç–æ —ç—Ç–æ, –≥–¥–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è, –∫–∞–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å.\n4.1 –ì—Ä—É–ø–ø–∞ A ‚Äî –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ LLM (System Prompt)\n–ß—Ç–æ —ç—Ç–æ: –¢–µ–∫—Å—Ç–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –≥–æ–≤–æ—Ä—è—Ç LLM –ö–ê–ö —Å–µ–±—è –≤–µ—Å—Ç–∏.\n–ì–¥–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è: –í –ø–∞–ø–∫–µ –ø–ª–∞–≥–∏–Ω–∞ /prompts/ –∏ –≤ –∞–¥–º–∏–Ω–∫–µ \"–ü—Ä–æ–º–ø—Ç—ã & –°—Ç–∏–ª–∏\"\n‚ö†Ô∏è DISCLAIMER (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ A3): \"–°–∏—Å—Ç–µ–º–∞ OSON Document Intelligence —è–≤–ª—è–µ—Ç—Å—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π. –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Å—É–∂–¥–µ–Ω–∏–µ –∏ —Ñ–∏–Ω–∞–ª—å–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –Ω–µ—Å—ë—Ç –∞—É–¥–∏—Ç–æ—Ä. –í—Å–µ —Ä–∞—Å—á—ë—Ç—ã –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ —Ç—Ä–µ–±—É—é—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–≤–∞–ª–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–º.\"\n–ö–∞–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å:\n# –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–º–ø—Ç–æ–≤ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ LLM\ndef get_system_prompt(plugin: str = 'audit') -> str:\nprompts = db.query(\n'SELECT content FROM prompts WHERE plugin = %s AND active = true',\nplugin\n)\nreturn '\\n\\n'.join([p.content for p in prompts])\n# –í—ã–∑–æ–≤ LLM\nsystem_prompt = get_system_prompt('audit')\nresponse = llm.chat(system=system_prompt, messages=[user_message])\n4.2 –ì—Ä—É–ø–ø–∞ B ‚Äî –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ (Vector DB)\n–ß—Ç–æ —ç—Ç–æ: –ë–æ–ª—å—à–∏–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã, –ø–æ –∫–æ—Ç–æ—Ä—ã–º —Å–∏—Å—Ç–µ–º–∞ –∏—â–µ—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é.\n–ì–¥–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è: –í Qdrant (G1) –≤ –≤–∏–¥–µ embeddings\n‚ÑπÔ∏è –í–ê–ñ–ù–û: –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ –∏–Ω–¥–µ–∫—Å–∏—Ä—É—é—Ç—Å—è –≤ –û–ë–©–ò–ô Qdrant (G1).\n–î–æ–∫—É–º–µ–Ω—Ç—ã –∫–ª–∏–µ–Ω—Ç–∞ ‚Äî –≤ –ü–†–ò–í–ê–¢–ù–´–ô Qdr\n\nant (G1.X) per project.\n4.3 –ì—Ä—É–ø–ø–∞ C ‚Äî –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (Python –∫–æ–¥)\n–ß—Ç–æ —ç—Ç–æ: –§–æ—Ä–º—É–ª—ã –∏ –ø—Ä–∞–≤–∏–ª–∞ —Ä–∞—Å—á—ë—Ç–∞, –∫–æ—Ç–æ—Ä—ã–µ –ù–ï–õ–¨–ó–Ø –¥–æ–≤–µ—Ä—è—Ç—å LLM. LLM –≤—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é, Python —Å—á–∏—Ç–∞–µ—Ç —Ç–æ—á–Ω–æ.\n–ì–¥–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è: –í –ø–∞–ø–∫–µ –ø–ª–∞–≥–∏–Ω–∞ /functions/ –∫–∞–∫ Python —Ñ–∞–π–ª—ã\nC1. –§–æ—Ä–º—É–ª–∞ —Ä–∞—Å—á—ë—Ç–∞ —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (ISA 320)\n‚ö†Ô∏è –ò–°–ü–†–ê–í–õ–ï–ù–û: PM –∑–∞–≤–∏—Å–∏—Ç –æ—Ç risk_level, –ù–ï –æ—Ç is_pie/is_first!\n# functions/materiality.py\ndef calculate_materiality(\nbenchmark: str,       # 'revenue' | 'assets' | 'equity' | 'profit'\namount: float,        # —Å—É–º–º–∞ –±–µ–Ω—á–º–∞—Ä–∫–∞\nrisk_level: str,      # 'high' | 'moderate' | 'low'\nis_pie: bool = False  # —Ç–æ–ª—å–∫–æ –¥–ª—è –≤—ã–±–æ—Ä–∞ % –≤–Ω—É—Ç—Ä–∏ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ OM\n) -> dict:\n'''\n–†–∞—Å—á—ë—Ç —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –ø–æ ISA 320.\n–ò—Å—Ç–æ—á–Ω–∏–∫: 05_Materiality_Playbook_v1.txt\n'''\n# –î–∏–∞–ø–∞–∑–æ–Ω—ã –¥–ª—è OM –ø–æ —Ç–∏–ø—É –±–µ–Ω—á–º–∞—Ä–∫–∞\nOM_RANGES = {\n'revenue':  (0.005, 0.02),   # 0.5% - 2%\n'assets':   (0.005, 0.02),   # 0.5% - 2%\n'equity':   (0.02, 0.05),    # 2% - 5%\n'profit':   (0.03, 0.07)     # 3% - 7% –æ—Ç –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π\n}\n# –í—ã–±–æ—Ä % –≤–Ω—É—Ç—Ä–∏ –¥–∏–∞–ø–∞–∑–æ–Ω–∞\nlow, high = OM_RANGES[benchmark]\nom_pct = low if is_pie else (low + high) / 2\nom = amount * om_pct\n# PM –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –†–ò–°–ö–ê (–ù–ï –æ—Ç is_pie/is_first!)\nPM_FACTORS = {\n'high': 0.50,      # 50% –æ—Ç OM –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–º —Ä–∏—Å–∫–µ\n'moderate': 0.65,  # 65% –æ—Ç OM –ø—Ä–∏ —É–º–µ—Ä–µ–Ω–Ω–æ–º —Ä–∏—Å–∫–µ\n'low': 0.75        # 75% –æ—Ç OM –ø—Ä–∏ –Ω–∏–∑–∫–æ–º —Ä–∏—Å–∫–µ\n}\npm = om * PM_FACTORS[risk_level]\n# CT = 3-5% –æ—Ç PM (–∏—Å–ø–æ–ª—å–∑—É–µ–º 5%)\nct = pm * 0.05\nreturn {\n'om': round(om, 2),\n'pm': round(pm, 2),\n'ct': round(ct, 2),\n'benchmark': benchmark,\n'risk_level': risk_level,\n'rationale': f'",
    "file_path": "OSON_TZ_FULL.docx",
    "create_time": 1766788736,
    "update_time": 1766788736,
    "_id": "doc-8a5d994951af68507a3d3ccc057a0f38"
  },
  "doc-f8ab33a38a7e693e0789cdf3cb46b768": {
    "content": "OM={om_pct*100}% –æ—Ç {benchmark}, PM={PM_FACTORS[risk_level]*100}% –æ—Ç OM ({risk_level} risk)'\n}\nC2. –§–æ—Ä–º—É–ª–∞ —Ä–∞—Å—á—ë—Ç–∞ –≤—ã–±–æ—Ä–∫–∏ (ISA 530)\n# functions/sampling.py\ndef calculate_sample_size(\npopulation_size: int,\npopulation_value: float,\npm: float,\nrisk_level: str = 'moderate',\nexpected_errors: int = 0\n) -> dict:\n'''\n–†–∞—Å—á—ë—Ç —Ä–∞–∑–º–µ—Ä–∞ –≤—ã–±–æ—Ä–∫–∏ –ø–æ ISA 530.\n'''\n# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø—É—Å—Ç—É—é population\nif population_size == 0 or population_value == 0:\nreturn {\n'sample_size': 0,\n'warning': 'Population –ø—É—Å—Ç–∞—è ‚Äî –≤—ã–±–æ—Ä–∫–∞ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–∞'\n}\n# Confidence factors\nCONFIDENCE = {'high': 3.0, 'moderate': 2.3, 'low': 1.6}\ncf = CONFIDENCE[risk_level]\n# –ë–∞–∑–æ–≤–∞—è —Ñ–æ—Ä–º—É–ª–∞: n = (Population * CF) / PM\ntolerable_error = pm\nsample_size = int((population_value * cf) / tolerable_error)\n# –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –Ω–∞ –æ–∂–∏–¥–∞–µ–º—ã–µ –æ—à–∏–±–∫–∏\nif expected_errors > 0:\nexpansion = 1.5 * expected_errors\nsample_size = int(sample_size + expansion)\n# –ù–µ –±–æ–ª—å—à–µ population\nsample_size = min(sample_size, population_size)\n# –ù–µ –º–µ–Ω—å—à–µ –º–∏–Ω–∏–º—É–º–∞ (25 –¥–ª—è substantive)\nsample_size = max(sample_size, 25)\nreturn {\n'sample_size': sample_size,\n'population_size': population_size,\n'population_value': population_value,\n'pm_used': pm,\n'confidence_factor': cf,\n'method': 'MUS' if population_value > pm * 10 else 'Random'\n}\nC3. Decision Tree –¥–ª—è Legal Matrix (ISA 501/560)\n# functions/legal_matrix.py\ndef evaluate_legal_matter(\nclaim_amount: float,\nprobability: str,    # 'remote' | 'possible' | 'probable'\npm: float,\noutcome_estimable: bool = True\n) -> dict:\n'''\n–û—Ü–µ–Ω–∫–∞ —é—Ä–∏–¥–∏—á–µ—Å\n\n–∫–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞ –ø–æ ISA 501.\n–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: is_material, disclosure_required, provision_required, is_kam\n'''\nis_material = claim_amount >= pm\nresult = {\n'claim_amount': claim_amount,\n'probability': probability,\n'is_material': is_material,\n'disclosure_required': False,\n'provision_required': False,\n'is_kam': False,\n'rationale': ''\n}\nif probability == 'remote':\nresult['rationale'] = 'Remote ‚Äî —Ä–∞—Å–∫—Ä—ã—Ç–∏–µ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è'\nelif probability == 'possible':\nif is_material:\nresult['disclosure_required'] = True\nresult['rationale'] = 'Possible + Material ‚Äî —Ä–∞—Å–∫—Ä—ã—Ç–∏–µ –≤ –ø—Ä–∏–º–µ—á–∞–Ω–∏—è—Ö'\nelif probability == 'probable':\nif outcome_estimable:\nresult['provision_required'] = True\nresult['rationale'] = 'Probable + Estimable ‚Äî —Å–æ–∑–¥–∞—Ç—å —Ä–µ–∑–µ—Ä–≤'\nelse:\nresult['disclosure_required'] = True\nresult['rationale'] = 'Probable + Not estimable ‚Äî —Ä–∞—Å–∫—Ä—ã—Ç—å –¥–∏–∞–ø–∞–∑–æ–Ω'\nif is_material:\nresult['is_kam'] = True\nresult['rationale'] += ' | –ö–∞–Ω–¥–∏–¥–∞—Ç –≤ KAM'\nreturn result\n4.4 –ì—Ä—É–ø–ø–∞ D ‚Äî –®–∞–±–ª–æ–Ω—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤\n4.5 –ì—Ä—É–ø–ø–∞ E ‚Äî –¢–æ—á–∫–∏ –≤—Ö–æ–¥–∞\n4.6 –ì—Ä—É–ø–ø–∞ F ‚Äî –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ (Engine)\nF1. Intent Detector ‚Äî —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è\n# engine/intent_detector.py\nINTENT_KEYWORDS = {\n'MATERIALITY': ['—Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å', 'PM', 'OM', '–º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω–æ—Å—Ç—å', '–ø–æ—Ä–æ–≥'],\n'RISK': ['—Ä–∏—Å–∫', '–¥–æ–±–∞–≤—å —Ä–∏—Å–∫', 'risk register', '–æ—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–æ–≤'],\n'SAMPLING': ['–≤—ã–±–æ—Ä–∫–∞', 'sample', '—Ä–∞–∑–º–µ—Ä –≤—ã–±–æ—Ä–∫–∏', 'ISA 530'],\n'LEGAL': ['–∏—Å–∫', '—Å—É–¥–µ–±–Ω—ã–π', 'legal', '–ø—Ä–µ—Ç–µ–Ω–∑–∏—è', '—Ä–∞–∑–±–∏—Ä–∞—Ç–µ–ª—å—Å—Ç–≤–æ'],\n'PBC': ['–¥–æ–∫—É–º–µ–Ω—Ç—ã', '–∑–∞–ø—Ä–æ—Å', 'PBC', '–∫–ª–∏–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω'],\n'TCWG': ['–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è', '—Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ', '–∫–æ–º–∏—Ç–µ—Ç', 'TCWG'],\n'KAM'\n\n: ['–∫–ª—é—á–µ–≤–æ–π –≤–æ–ø—Ä–æ—Å', 'KAM', '–∞—É–¥–∏—Ç–æ—Ä—Å–∫–æ–µ –∑–∞–∫–ª—é—á–µ–Ω–∏–µ'],\n'KNOWLEDGE': ['—á—Ç–æ —Ç–∞–∫–æ–µ', '–æ–±—ä—è—Å–Ω–∏', '—Ä–∞—Å—Å–∫–∞–∂–∏', '–∫–∞–∫'],\n'DOCUMENT_GEN': ['—Å–¥–µ–ª–∞–π –¥–æ–∫—É–º–µ–Ω—Ç', '—Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π', '—Å–æ–∑–¥–∞–π –æ—Ç—á—ë—Ç'],\n'PROJECT_MGMT': ['—Å–æ–∑–¥–∞–π –ø—Ä–æ–µ–∫—Ç', '—Å—Ç–∞—Ç—É—Å', '–ø—Ä–æ–µ–∫—Ç—ã']\n}\ndef detect_intent(user_message: str) -> str:\nmessage_lower = user_message.lower()\nfor intent, keywords in INTENT_KEYWORDS.items():\nif any(kw in message_lower for kw in keywords):\nreturn intent\nreturn 'KNOWLEDGE'  # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é\nF6. File Parser ‚Äî —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π\n# engine/file_parser.py\ndef parse_and_validate(file_path: str, project_id: int) -> dict:\n'''\n–ü–∞—Ä—Å–∏–Ω–≥ —Ñ–∞–π–ª–∞ + –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞—Ç—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞ vs period_end\n'''\n# –ü–æ–ª—É—á–∏—Ç—å period_end –ø—Ä–æ–µ–∫—Ç–∞\nproject = get_project(project_id)\nperiod_end = project.period_end\n# –ü–∞—Ä—Å–∏–Ω–≥ —Ñ–∞–π–ª–∞\nif file_path.endswith('.pdf'):\ncontent = parse_pdf(file_path)\nelif file_path.endswith('.xlsx'):\ncontent = parse_excel(file_path)\nelif file_path.endswith('.docx'):\ncontent = parse_docx(file_path)\nelse:\ncontent = parse_text(file_path)\n# –í–∞–ª–∏–¥–∞—Ü–∏—è: –ø–æ–∏—Å–∫ –¥–∞—Ç –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ\ndoc_dates = extract_dates(content)\nwarnings = []\nfor date in doc_dates:\nif date > period_end:\nwarnings.append(\nf'–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–∞—Ç—É {date}, –∫–æ—Ç–æ—Ä–∞—è –ø–æ—Å–ª–µ period_end ({period_end})'\n)\nreturn {\n'content': content,\n'warnings': warnings,\n'valid': len(warnings) == 0\n}\n5. –¢–ê–ë–õ–ò–¶–´ PostgreSQL (G2.1-G2.8)\n‚ÑπÔ∏è –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –≤–∫–ª—é—á–∞—é—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏ –∏–∑ –∞–Ω–∞–ª–∏–∑–∞ –≤–æ–ø—Ä–æ—Å–æ–≤ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –±–∏–∑–Ω–µ—Å-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π. –ù–æ–≤—ã–µ –ø–æ–ª—è –æ—Ç–º–µ—á–µ–Ω—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º -- –ù–û–í–û–ï\n5.1 G2.1 users ‚Äî –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏\nCREATE TAB\n\nLE users (\nid SERIAL PRIMARY KEY,\nemail VARCHAR(255) UNIQUE NOT NULL,\ntg_id VARCHAR(50),\nrole VARCHAR(20) DEFAULT 'auditor',  -- 'auditor' | 'manager' | 'partner' | 'admin'\ncreated_at TIMESTAMP DEFAULT NOW()\n);\n5.2 G2.2 projects ‚Äî –ü—Ä–æ–µ–∫—Ç—ã\nCREATE TABLE projects (\nid SERIAL PRIMARY KEY,\nuser_id INTEGER REFERENCES users(id),\nname VARCHAR(255) NOT NULL,\nindustry VARCHAR(50),\nperiod_end DATE,\nframework VARCHAR(20) DEFAULT 'IFRS',  -- 'IFRS' | 'GAAP' | '–ù–ë–£'\nis_pie BOOLEAN DEFAULT FALSE,\nis_first BOOLEAN DEFAULT FALSE,\nqa_checklist_passed BOOLEAN DEFAULT FALSE,  -- –ù–û–í–û–ï: –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –≤—ã–ø—É—Å–∫–∞ –±–µ–∑ QA\ncreated_at TIMESTAMP DEFAULT NOW()\n);\n5.3 G2.3 materiality ‚Äî –°—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å\nCREATE TABLE materiality (\nid SERIAL PRIMARY KEY,\nproject_id INTEGER REFERENCES projects(id),\nbenchmark VARCHAR(50),            -- 'revenue' | 'assets' | 'equity' | 'profit'\nbenchmark_amount DECIMAL(20,2),   -- —Å—É–º–º–∞ –±–µ–Ω—á–º–∞—Ä–∫–∞\nrisk_level VARCHAR(20),           -- 'high' | 'moderate' | 'low'\nom DECIMAL(20,2),\npm DECIMAL(20,2),\nct DECIMAL(20,2),\nrationale TEXT,\ndata_source VARCHAR(255),         -- –ù–û–í–û–ï: –æ—Ç–∫—É–¥–∞ –≤–∑—è—Ç—ã –¥–∞–Ω–Ω—ã–µ\nconfirmed_by INTEGER REFERENCES users(id),   -- –ù–û–í–û–ï v2.0\nconfirmed_at TIMESTAMP,                      -- –ù–û–í–û–ï v2.0\ncreated_at TIMESTAMP DEFAULT NOW(),\nupdated_at TIMESTAMP DEFAULT NOW()\n);\n-- –¢—Ä–∏–≥–≥–µ—Ä –¥–ª—è updated_at\nCREATE OR REPLACE FUNCTION update_timestamp()\nRETURNS TRIGGER AS $$\nBEGIN\nNEW.updated_at = NOW();\nRETURN NEW;\nEND;\n$$ LANGUAGE plpgsql;\nCREATE TRIGGER materiality_updated\nBEFORE UPD\n\nATE ON materiality\nFOR EACH ROW EXECUTE FUNCTION update_timestamp();\n5.4 G2.4 risk_register ‚Äî –†–µ–µ—Å—Ç—Ä —Ä–∏—Å–∫–æ–≤\nCREATE TABLE risk_register (\nid SERIAL PRIMARY KEY,\nproject_id INTEGER REFERENCES projects(id),\nrisk_title VARCHAR(255) NOT NULL,\nassertion VARCHAR(50),            -- 'existence' | 'completeness' | 'valuation' | 'rights' | 'presentation'\nlevel VARCHAR(20) NOT NULL,       -- 'high' | 'moderate' | 'low'\nresponse TEXT,                    -- –ø–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã\nis_fraud_risk BOOLEAN DEFAULT FALSE,    -- –ù–û–í–û–ï: —Ä–∏—Å–∫ –º–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤–∞ (ISA 240)\ndata_source VARCHAR(255),               -- –ù–û–í–û–ï: –æ—Ç–∫—É–¥–∞ –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω —Ä–∏—Å–∫\nexception_flag BOOLEAN DEFAULT FALSE,   -- –ù–û–í–û–ï: —Ç—Ä–µ–±—É–µ—Ç —ç—Å–∫–∞–ª–∞—Ü–∏–∏\nescalation_reason TEXT,                 -- –ù–û–í–û–ï: –ø—Ä–∏—á–∏–Ω–∞ —ç—Å–∫–∞–ª–∞—Ü–∏–∏\nconfirmed_by INTEGER REFERENCES users(id),   -- –ù–û–í–û–ï v2.0\nconfirmed_at TIMESTAMP,                      -- –ù–û–í–û–ï v2.0\ncreated_at TIMESTAMP DEFAULT NOW(),\nupdated_at TIMESTAMP DEFAULT NOW()\n);\nCREATE TRIGGER risk_register_updated\nBEFORE UPDATE ON risk_register\nFOR EACH ROW EXECUTE FUNCTION update_timestamp();\n5.5 G2.5 legal_matrix ‚Äî –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã\nCREATE TABLE legal_matrix (\nid SERIAL PRIMARY KEY,\nproject_id INTEGER REFERENCES projects(id),\nclaim_type VARCHAR(50),           -- 'lawsuit' | 'claim' | 'regulatory'\ncounterparty VARCHAR(255),\ndescription TEXT,\namount DECIMAL(20,2),\nprobability VARCHAR(20),          -- 'remote' | 'possible' | 'probable'\nprovision DECIMAL(20,2),\ndisclosure_required BOOLEAN DEFAULT FALSE,\nis_kam BO",
    "file_path": "OSON_TZ_FULL.docx",
    "create_time": 1766788765,
    "update_time": 1766788765,
    "_id": "doc-f8ab33a38a7e693e0789cdf3cb46b768"
  }
}